import{a as B}from"./chunk-L22KP5OG.js";import{a as A}from"./chunk-UZZJTQF6.js";import{a as N}from"./chunk-R3U4HL6C.js";import{a as L}from"./chunk-2UWTBI75.js";import{b as R}from"./chunk-MOIGIHJD.js";import{a as E}from"./chunk-5DENEAAF.js";import{$a as n,Eb as D,Fa as j,Ib as J,Ja as e,Ka as i,La as g,M as f,Nb as T,P as h,Ra as b,S as w,Sa as y,Ub as P,Wb as O,ab as d,c as v,ib as k,na as c,oa as u,ob as p,pb as S,qb as _,w as I,xa as x}from"./chunk-U53D5TZM.js";var F=(()=>{let t=class t{constructor(o){this.http=o}getJob(o){return this.http.get(E.serverAPI.ROOT+E.serverAPI.POST_JOB+o+"/")}};t.\u0275fac=function(a){return new(a||t)(h(T))},t.\u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var M=new v({assign_to:-1,customer:1,estimated_date:"",id:-1,job_created_date:"",job_number:"",location:"",rig_number:-1,service:-1,unit_of_measure:-1}),C=new v(!1),ee=new v(!1),G=(()=>{let t=class t{constructor(o){this.httpClientService=o,this.job$=M.asObservable(),this.jobLoading$=C.asObservable()}getInfo(o){return new Promise((a,s)=>{C.next(!0),this.httpClientService.getJob(o).pipe(I(()=>C.next(!1))).subscribe({next:m=>{M.next(m),a(!0)},error:m=>{console.error("Error fetching data",m),s(!1)}})})}};t.\u0275fac=function(a){return new(a||t)(h(F))},t.\u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();function U(r,t){r&1&&(e(0,"div",2)(1,"span",14),n(2,"Loading..."),i()())}function V(r,t){if(r&1&&(e(0,"div",15)(1,"div")(2,"div",16)(3,"div")(4,"h4",17)(5,"a",18),n(6),i()()()()()(),e(7,"div",19)(8,"div",20)(9,"div",21)(10,"div",22),n(11,"Service Type"),i(),e(12,"b"),n(13),p(14,"forignAsync"),i()(),e(15,"div",21)(16,"div",22),n(17,"Customer"),i(),e(18,"b"),n(19),p(20,"forignAsync"),i()(),e(21,"div",21)(22,"div",22),n(23,"Location"),i(),e(24,"b"),n(25),i()(),e(26,"div",21)(27,"div",22),n(28,"Rig No"),i(),e(29,"b"),n(30),p(31,"forignAsync"),i()(),e(32,"div",21)(33,"div",22),n(34,"Date"),i(),e(35,"b"),n(36),p(37,"hoursAgo"),i()()()()),r&2){let l=y(2);c(6),d(l.job.job_number),c(7),d(_(14,6,l.job.service,"SERVICETYPE")),c(6),d(_(20,9,l.job.customer,"CUSTOMER")),c(6),d(l.job.location),c(5),d(_(31,12,l.job.rig_number,"RIGNO")),c(6),d(S(37,15,l.job.estimated_date))}}function Y(r,t){r&1&&(e(0,"div",23),n(1,"Sorry failed to fetch data."),i())}function K(r,t){if(r&1&&x(0,V,38,17)(1,Y,2,0),r&2){let l=y();j(0,l.job.job_number!=""?0:1)}}var le=(()=>{let t=class t{constructor(o,a,s,m,H){this.route=o,this.router=a,this.dataService=s,this.runDashDataServices=m,this.progressService=H,this.runno="",this.id="",this.job={assign_to:-1,customer:1,estimated_date:"",id:-1,job_created_date:"",job_number:"",location:"",rig_number:-1,service:-1,unit_of_measure:-1},this.sub=[]}ngOnInit(){this.jobNo!=""&&this.dataService.getInfo(this.jobNo),this.sub.push(this.dataService.job$.pipe().subscribe({next:o=>{this.job=o,this.progressService.Progress$.pipe().subscribe({next:a=>{}})}})),console.log(this.jobNo),this.sub.push(this.route.params.subscribe(o=>{this.id=o.jobNo,this.runno=o.runNo}))}navigateSurvey(){this.router.navigate(["/survey/",this.id,this.progressService.runno])}navigateSOE(){this.router.navigate(["/soe/job/",this.id])}navigatePreSurvey(){this.router.navigate(["/dash/jobdetails/",this.id])}navigateReport(){this.router.navigate(["/dash/jobdetails/",this.id])}};t.\u0275fac=function(a){return new(a||t)(u(P),u(O),u(G),u(N),u(A))},t.\u0275cmp=w({type:t,selectors:[["app-job-data"]],inputs:{jobNo:"jobNo"},standalone:!0,features:[k],decls:33,vars:5,consts:[[1,"box","custom-box","!mb-3"],[1,"box-body"],["role","status",1,"ti-spinner","text-primary","p-2","m-2"],[1,"box","custom-box","!pt-0"],[1,"table-responsive","m-2","!mt-0","!mb-[0rem]"],[1,"flex","items-center","xl:space-x-4","space-x-2"],[1,"!rounded-full","bg-info/10","!pr-4","!font-semibold","flex","items-center","bg-primary","text-white",3,"click"],[1,"inline-flex","items-center","justify-center","!w-[1.75rem]","!h-[1.75rem]","leading-[1.75rem]","text-[1rem]","rounded-full","text-white","!bg-white/20","font-semibold","mr-2"],[1,"cursor-pointer",3,"click"],[1,"ti","ti-chevrons-right","flex-shrink-0","text-[#8c9097]","dark:text-white/50","px-[0.5rem]","hidden","xl:inline-block"],[1,"!rounded-full","bg-primary","!pr-4","!font-semibold","flex","items-center","text-white","cursor-pointer",3,"click"],[1,"inline-flex","items-center","justify-center","!w-[1.75rem]","!h-[1.75rem]","leading-[1.75rem]","text-[1rem]","rounded-full","!bg-white/20","font-semibold","mr-2"],[1,""],[1,"inline-flex","items-center","justify-center","!w-[1.75rem]","!h-[1.75rem]","leading-[1.75rem]","text-[1rem]","rounded-full","text-white","bg-white/20","font-semibold","mr-2"],[1,"sr-only"],[1,"sm:flex","align-top","justify-between"],[1,"sm:flex","flex-wrap","gap-2"],[1,"font-bold","mb-0","flex","items-center"],["href","javascript:void(0);"],[1,"sm:flex","mt-4","!text-[#8c9097]","dark:text-white/50"],[1,"mb-2","sm:mb-0","flex","items-center","gap-8"],[1,"mb-1"],[1,"mr-3","form-label","!mb-1"],[1,"p-2","m-2"]],template:function(a,s){a&1&&(e(0,"div",0)(1,"div",1),x(2,U,3,0,"div",2),p(3,"async"),p(4,"async"),x(5,K,2,1),i()(),e(6,"div",3)(7,"div",1)(8,"div",4)(9,"div",5)(10,"div",6),b("click",function(){return s.navigatePreSurvey()}),e(11,"span",7),n(12," 1 "),i(),e(13,"span",8),b("click",function(){return s.navigatePreSurvey()}),n(14,"Presurvey"),i()(),g(15,"i",9),e(16,"div",10),b("click",function(){return s.navigateSurvey()}),e(17,"span",11),n(18," 2 "),i(),e(19,"span",12),n(20,"Survey"),i()(),g(21,"i",9),e(22,"div",10),b("click",function(){return s.navigateSOE()}),e(23,"span",13),n(24," 3 "),i(),e(25,"span",12),n(26,"Sequence of Events"),i()(),g(27,"i",9),e(28,"div",10),b("click",function(){return s.navigateReport()}),e(29,"span",13),n(30," 4 "),i(),e(31,"span",12),n(32,"Reports"),i()()()()()()),a&2&&(c(2),j(2,S(3,1,s.dataService.jobLoading$)||S(4,3,s.runDashDataServices.masterDataGetLoading$)?2:5))},dependencies:[B,L,R,J,D]});let r=t;return r})();export{le as a};
