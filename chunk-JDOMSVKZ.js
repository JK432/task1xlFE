import{a as p}from"./chunk-NY5GKKF2.js";import{a as s}from"./chunk-NJXWKAYO.js";import{o as S}from"./chunk-5OVQF42F.js";import{J as c,aa as d,fa as v,g as a}from"./chunk-RBD7S4WU.js";var w=(()=>{let i=class i{constructor(e){this.http=e}postSurveyFile(e,t,n){return this.http.post(s.serverAPI.ROOT+s.serverAPI.QUALITY_ANALYSIS+t+"/"+n+"/",e)}postIntiateCalculation(e,t,n){return this.http.post(s.serverAPI.ROOT+s.serverAPI.SURVEY_INTIAL_CALCULATION,e)}postCalculationDetails(e,t,n){return this.http.post(s.serverAPI.ROOT+s.serverAPI.SURVEY_CALCULATION_DETAILS,e)}getQualityAnalysis(e,t){return this.http.get(s.serverAPI.ROOT+s.serverAPI.QUALITY_ANALYSIS+e+"/"+t+"/")}getSurveyCalculationDetails(e,t){return this.http.get(s.serverAPI.ROOT+s.serverAPI.SURVEY_CALCULATION_DETAILS+e+"/"+t+"/")}deleteSurveyStation(e,t,n){return this.http.delete(s.serverAPI.ROOT+s.serverAPI.QUALITY_ANALYSIS+t+"/"+n+"/"+e+"/")}};i.\u0275fac=function(t){return new(t||i)(v(S))},i.\u0275prov=d({token:i,factory:i.\u0275fac,providedIn:"root"});let u=i;return u})();var h=new a({results:[],status:"no_data",success_count:0,g_t_percentage:"",g_t_score:"",w_t_percentage:"",w_t_score:""}),f=new a(!1),g=new a(!1),b=new a(!1),m=new a({status:"no_data",survey_details:[],max_inclination:0,last_row:{header_id:0,closure_distance:0,closure_direction:0,vertical_section:0}}),y=new a(!1),A=new a(!1),T=(()=>{let i=class i{constructor(e){this.httpClient=e,this.qualityAnalysis$=h.asObservable(),this.qualityAnalysisPostLoading$=f.asObservable(),this.qualityAnalysisError$=g.asObservable(),this.stationDeleteLoading$=b.asObservable(),this.surveyCalculationDetails$=m.asObservable(),this.surveyCalculationDetailsPostLoading$=y.asObservable(),this.surveyCalculationDetailsError$=A.asObservable()}postSurveyFile(e,t,n){return new Promise((l,o)=>{f.next(!0),this.httpClient.postSurveyFile(e,t,n).pipe(c(()=>f.next(!1))).subscribe({next:r=>{h.next(r),console.log(r),l(!0)},error:r=>{throw console.error("Error on Survey Calculation",typeof r.error.error==null?"":r.error.error),o(),new p(`Error on survey calculation 
`+typeof r.error.error==null?"":r.error.error)}})})}postSurveyCalculation(e,t,n){return new Promise((l,o)=>{this.httpClient.postCalculationDetails(e,t,n).pipe(c(()=>y.next(!1))).subscribe({next:r=>{m.next(r),console.log(r),l(!0)},error:r=>{throw console.error("Error on Survey Calculation",typeof r.error.error==null?"":r.error.error),o(),new p(`Error on survey calculation 
`+typeof r.error.error==null?"":r.error.error)}})})}IntiateSurveyCalculation(e,t,n){return new Promise((l,o)=>{y.next(!0),this.httpClient.postIntiateCalculation(e,t,n).pipe().subscribe({next:r=>{console.log(r),this.postSurveyCalculation(e,t,n).then(()=>{l(!0)})},error:r=>{throw console.error("Error on Survey Calculation",typeof r.error.error==null?"":r.error.error),o(),new p(`Error on survey calculation 
`+typeof r.error.error==null?"":r.error.error)}})})}getQualityAnalysis(e,t){return new Promise((n,l)=>{f.next(!0),this.httpClient.getQualityAnalysis(e,t).pipe(c(()=>f.next(!1))).subscribe({next:o=>{h.next(o),console.log(o),n(!0)},error:o=>{throw console.error("Error on Geting Quality Analysis",typeof o.error.error==null?"":o.error.error),l(),new p(`Error on Geting Quality Analysis 
`+typeof o.error.error==null?"":o.error.error)}})})}getSurveyCalculationDetails(e,t){return new Promise((n,l)=>{y.next(!0),this.httpClient.getSurveyCalculationDetails(e,t).pipe(c(()=>y.next(!1))).subscribe({next:o=>{A.next(!1),m.next(o),console.log(o),n(!0)},error:o=>{o.error&&A.next(!0),console.log(o.error),l(!1)}})})}deleteQAStation(e,t,n){return new Promise((l,o)=>{b.next(!0),this.httpClient.deleteSurveyStation(e,t,n).pipe(c(()=>b.next(!1))).subscribe({next:r=>{h.next(r),console.log(r),l(!0)},error:r=>{throw console.error("Error on Deleting Survey Station",typeof r.error.error==null?"":r.error.error),o(),new p(`Error on Deleting Survey Station 
`+typeof r.error.error==null?"":r.error.error)}})})}};i.\u0275fac=function(t){return new(t||i)(v(w))},i.\u0275prov=d({token:i,factory:i.\u0275fac,providedIn:"root"});let u=i;return u})();export{T as a};
