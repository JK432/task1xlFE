import{a as R}from"./chunk-JDOMSVKZ.js";import{a as Q}from"./chunk-3LRHPB24.js";import"./chunk-JQS6LFF5.js";import{h as P}from"./chunk-7L7TQNHG.js";import"./chunk-NY5GKKF2.js";import"./chunk-NJXWKAYO.js";import{a as B,b as M}from"./chunk-YAXZKP7E.js";import"./chunk-EQ5ZDEMS.js";import{d as L,g as V,j,v as H,x as A}from"./chunk-5OVQF42F.js";import{$a as u,$b as T,Bb as t,Cb as e,Db as d,Hb as y,Jb as _,Kb as S,Rb as k,Sb as i,_a as v,fc as b,gc as f,jc as F,la as E,pb as s,rb as w,va as c,wa as p,xa as I,xb as x,ya as D}from"./chunk-RBD7S4WU.js";import"./chunk-YT5AF7SN.js";import{h as C}from"./chunk-SIAVTO45.js";function $(o,r){o&1&&(t(0,"button",34)(1,"span",35),i(2,"Analysing.."),e(),t(3,"span",36),d(4,"i",37),e()())}function G(o,r){if(o&1){let h=y();t(0,"button",38),_("click",function(){c(h);let n=S();return p(n.onUpload())}),i(1,"Import"),e()}}function K(o,r){o&1&&(t(0,"td"),i(1,"Click to calculate."),e())}function q(o,r){o&1&&(t(0,"td"),i(1,"Done"),e())}function O(o,r){if(o&1){let h=y();t(0,"button",33),_("click",function(){c(h);let n=S();return p(n.navigateToSurveyCalculation())}),i(1," View Survey "),e()}}function U(o,r){o&1&&(t(0,"button",39),i(1," View Survey "),t(2,"span",36),d(3,"i",37),e()())}var oe=(()=>{let r=class r{constructor(l,n,a,m,g){this.route=l,this.presurveyDataServices=n,this.router=a,this.surveyDataServices=m,this.toastr=g,this.surveyCalculationErrorFlag=!1,this.selectedFile=null,this.sub=[],this.id="",this.runno="1",this.presurveyInfo={job_info:{client_rep:"",job_number:"",well_id:"",well_name:"",arrival_date:new Date(Date.now()).toISOString()},survey_info:[],tie_on_information:[],well_info:{east_coorinates:0,g_t:0,max_gt:0,max_wt:0,min_gt:0,min_wt:0,north_coordinates:0,w_t:0,well_info_id:0,central_meridian:0,easting:0,expected_well_temp:0,expected_wellbore_inclination:0,GLE:0,job_number:"",latitude_1:0,latitude_2:0,latitude_3:0,longitude_1:0,longitude_2:0,longitude_3:0,northing:0,ref_datum:"",ref_elivation:"",RKB:0,well_id:0,well_type:0}},this.wellInfo={central_meridian:0,easting:0,expected_well_temp:0,expected_wellbore_inclination:0,GLE:0,job_number:"",latitude_1:0,latitude_2:0,latitude_3:0,longitude_1:0,longitude_2:0,longitude_3:0,northing:0,ref_datum:"",ref_elivation:"",RKB:0,well_id:0,well_type:0,east_coorinates:0,g_t:0,max_gt:0,max_wt:0,min_gt:0,min_wt:0,north_coordinates:0,w_t:0,well_info_id:0},this.wellInfoI={central_meridian:0,easting:0,expected_well_temp:0,expected_wellbore_inclination:0,GLE:0,job_number:"",latitude_1:10,latitude_2:75,latitude_3:12.35,longitude_1:0,longitude_2:0,longitude_3:0,northing:0,ref_datum:"",ref_elivation:"",RKB:0,well_id:0,well_type:0,east_coorinates:0,g_t:0,max_gt:0,max_wt:0,min_gt:0,min_wt:0,north_coordinates:0,w_t:0,well_info_id:0}}ngOnInit(){this.sub.push(this.route.params.subscribe(l=>{this.id=l.jobNo,this.runno=l.runNo,this.sub.push(this.presurveyDataServices.PresurveyInfo$.pipe().subscribe({next:n=>{this.presurveyInfo=n,this.wellInfo=this.presurveyInfo.well_info,console.log(this.wellInfo)}})),this.surveyDataServices.getSurveyCalculationDetails(this.id,this.runno).then(n=>{}),this.surveyDataServices.surveyCalculationDetailsError$.pipe().subscribe({next:n=>{this.surveyCalculationErrorFlag=n}})}))}onFileSelected(l){let n=l.target;n.files&&n.files.length>0&&(this.selectedFile=n.files[0])}onUpload(){if(this.selectedFile){let l=new FormData;l.append("file",this.selectedFile),l.append("job_number",this.id),l.append("run_number",this.runno),l.append("survey_type","1"),this.surveyDataServices.postSurveyFile(l,this.id,this.runno).then(n=>{n==!0&&this.toastr.success("Quality Analysis available,","Sucess",{positionClass:"toast-top-center"})}),console.log(this.selectedFile)}else console.error("No file selected")}calculateSurvey(){return C(this,null,function*(){if(this.id&&this.runno){let l=new FormData;l.append("job_number",this.id),l.append("run_number",this.runno),yield this.surveyDataServices.IntiateSurveyCalculation(l,this.id,this.runno)}else console.error("No Id")})}navigateToQualityAnalysis(){this.router.navigate(["/survey/quality_analysis/",this.id,this.runno])}navigateToSurveyCalculation(){this.surveyCalculationErrorFlag?this.calculateSurvey().then(()=>{this.router.navigate(["/survey/survey_calculation/",this.id,this.runno])}):this.router.navigate(["/survey/survey_calculation/",this.id,this.runno])}};r.\u0275fac=function(n){return new(n||r)(u(H),u(Q),u(A),u(R),u(P))},r.\u0275cmp=E({type:r,selectors:[["app-home"]],standalone:!0,features:[T],decls:90,vars:13,consts:[["loadedContent",""],[3,"title","activeTitle","title1"],[1,"grid","grid-cols-12","gap-x-6"],[1,"xl:col-span-12","col-span-12"],[1,""],["type","button",1,"ti-btn","ti-btn-primary-full","!py-1","!px-2","ti-btn-wave","m-2"],["type","button","data-hs-overlay","#hs-vertically-centered-modal",1,"hs-dropdown-toggle","ti-btn","ti-btn-primary-full","!py-1","!px-2","m-2"],["id","hs-vertically-centered-modal",1,"hs-overlay","hidden","ti-modal"],[1,"hs-overlay-open:mt-7","ti-modal-box","mt-0","ease-out","min-h-[calc(100%-3.5rem)]","flex","items-center"],[1,"ti-modal-content"],[1,"ti-modal-header"],["id","staticBackdropLabel2",1,"modal-title"],["type","button","data-hs-overlay","#hs-vertically-centered-modal",1,"hs-dropdown-toggle","ti-modal-close-btn"],[1,"sr-only"],["width","8","height","8","viewBox","0 0 8 8","fill","none","xmlns","http://www.w3.org/2000/svg",1,"w-3.5","h-3.5"],["d","M0.258206 1.00652C0.351976 0.912791 0.479126 0.860131 0.611706 0.860131C0.744296 0.860131 0.871447 0.912791 0.965207 1.00652L3.61171 3.65302L6.25822 1.00652C6.30432 0.958771 6.35952 0.920671 6.42052 0.894471C6.48152 0.868271 6.54712 0.854471 6.61352 0.853901C6.67992 0.853321 6.74572 0.865971 6.80722 0.891111C6.86862 0.916251 6.92442 0.953381 6.97142 1.00032C7.01832 1.04727 7.05552 1.1031 7.08062 1.16454C7.10572 1.22599 7.11842 1.29183 7.11782 1.35822C7.11722 1.42461 7.10342 1.49022 7.07722 1.55122C7.05102 1.61222 7.01292 1.6674 6.96522 1.71352L4.31871 4.36002L6.96522 7.00648C7.05632 7.10078 7.10672 7.22708 7.10552 7.35818C7.10442 7.48928 7.05182 7.61468 6.95912 7.70738C6.86642 7.80018 6.74102 7.85268 6.60992 7.85388C6.47882 7.85498 6.35252 7.80458 6.25822 7.71348L3.61171 5.06702L0.965207 7.71348C0.870907 7.80458 0.744606 7.85498 0.613506 7.85388C0.482406 7.85268 0.357007 7.80018 0.264297 7.70738C0.171597 7.61468 0.119017 7.48928 0.117877 7.35818C0.116737 7.22708 0.167126 7.10078 0.258206 7.00648L2.90471 4.36002L0.258206 1.71352C0.164476 1.61976 0.111816 1.4926 0.111816 1.36002C0.111816 1.22744 0.164476 1.10028 0.258206 1.00652Z","fill","currentColor"],[1,"ti-modal-body","mt-2"],[1,"box"],[1,"block"],["type","file","accept",".xlsx, .xls",1,"block","w-full","border","border-gray-200","focus:shadow-sm","dark:focus:shadow-white/10","rounded-sm","text-sm","focus:z-10","focus:outline-0","focus:border-gray-200","dark:focus:border-white/10","dark:border-white/10","dark:text-[#8c9097]","dark:text-white/50","file:me-4","file:py-2","file:px-4","file:rounded-s-sm","file:border-0","file:text-sm","file:font-semibold","file:bg-primary","file:text-white","hover:file:bg-primary","focus-visible:outline-none",3,"change"],[1,"ti-modal-footer"],["type","button","data-hs-overlay","#hs-vertically-centered-modal",1,"hs-dropdown-toggle","ti-btn","ti-btn-secondary-full","!py-1"],["type","button","class","ti-btn ti-btn-primary-full ti-btn-loader ti-btn-disabled !py-1",4,"ngIf","ngIfElse"],[1,"xl:col-span-6","col-span-12","mt-4"],[1,"box-header","justify-between"],[1,"box-title"],[1,"box-body","!p-0","max-h-52","overflow-auto"],[1,"table-responsive","overflow-auto"],[1,"col-span-12","m-4","border","border-solid","border-gray-300","p-3","box","dark:border-gray-600","!text-[#8c9097]"],[1,"md:col-span-6","col-span-12","mb-2"],[1,"table","whitespace-nowrap","table-borderless","!text-[#8c9097]","dark:text-white/50","min-w-full"],[1,"text-start"],["scope","row",1,"form-label"],["type","button",1,"ti-btn","ti-btn-primary-full","!py-1","!px-2","ti-btn-wave","m-2",3,"click"],["type","button",1,"ti-btn","ti-btn-primary-full","ti-btn-loader","ti-btn-disabled","!py-1"],[1,"me-2"],[1,"loading"],[1,"ri-refresh-line","text-[1rem]","animate-spin"],[1,"ti-btn","ti-btn-primary-full","!py-1",3,"click"],["type","button",1,"ti-btn","ti-btn-primary-full","!py-1","!px-2","ti-btn-wave","m-2","ti-btn-disabled"]],template:function(n,a){if(n&1){let m=y();d(0,"app-page-header",1),t(1,"div",2)(2,"div",3)(3,"div",3)(4,"div",4)(5,"button",5),i(6,"Import Presurvey Sheet"),e(),t(7,"button",6),i(8," Import Survey "),e(),t(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"h6",11),i(14,"Import Survey "),e(),t(15,"button",12)(16,"span",13),i(17,"Close"),e(),I(),t(18,"svg",14),d(19,"path",15),e()()(),D(),t(20,"div",16)(21,"div",17)(22,"div")(23,"label",18)(24,"span",13),i(25,"Choose Survey File"),e(),t(26,"input",19),_("change",function(N){return c(m),p(a.onFileSelected(N))}),e()()()()(),t(27,"div",20)(28,"button",21),i(29," Close "),e(),s(30,$,5,0,"button",22),b(31,"async"),s(32,G,2,0,"ng-template",null,0,F),e()()()(),t(34,"button",5),i(35,"Compare Survey"),e(),t(36,"button",5),i(37,"Import Computed Survey"),e(),t(38,"button",5),i(39,"Export Survey"),e()()()(),t(40,"div",23)(41,"div",3)(42,"div",17)(43,"div",24)(44,"div",25),i(45," Quality Analysis Info "),e()(),t(46,"div",26)(47,"div",27)(48,"fieldset",28)(49,"legend"),i(50," Inrun QA Status "),e(),t(51,"div",29)(52,"div")(53,"table",30)(54,"tbody")(55,"tr",31)(56,"th",32),i(57,"Status"),e(),t(58,"td"),i(59,"Done"),e(),t(60,"td")(61,"button",33),_("click",function(){return c(m),p(a.navigateToQualityAnalysis())}),i(62,"View Quality Analysis"),e()()()()()()()()()()()(),d(63,"div"),e(),t(64,"div",23)(65,"div",3)(66,"div",17)(67,"div",24)(68,"div",25),i(69," Survey calculation Info "),e()(),t(70,"div",26)(71,"div",27)(72,"fieldset",28)(73,"legend"),i(74," Inrun Survey "),e(),t(75,"div",29)(76,"div")(77,"table",30)(78,"tbody")(79,"tr",31)(80,"th",32),i(81,"Status"),e(),s(82,K,2,0,"td"),b(83,"async"),s(84,q,2,0),t(85,"td"),s(86,O,2,0,"button",5),b(87,"async"),s(88,U,4,0),e()()()()()()()()()()(),d(89,"div"),e()()}if(n&2){let m=k(33);w("title","Survey")("activeTitle","Home")("title1","Survey"),v(30),w("ngIf",f(31,7,a.surveyDataServices.qualityAnalysisPostLoading$))("ngIfElse",m),v(52),x(82,f(83,9,a.surveyDataServices.surveyCalculationDetailsError$)?82:84),v(4),x(86,f(87,11,a.surveyDataServices.surveyCalculationDetailsPostLoading$)?88:86)}},dependencies:[M,B,j,L,V]});let o=r;return o})();export{oe as HomeComponent};
