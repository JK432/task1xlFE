import{a as d}from"./chunk-NY5GKKF2.js";import{a as i}from"./chunk-NJXWKAYO.js";import{o as b}from"./chunk-5OVQF42F.js";import{$a as h,J as m,aa as n,fa as c,g as a,oa as f}from"./chunk-RBD7S4WU.js";var y=(()=>{let e=class e{constructor(t){this.http=t}getMasterData(){return this.http.get(i.serverAPI.ROOT+i.serverAPI.MASTER_DATA)}getJob(){return this.http.get(i.serverAPI.ROOT+i.serverAPI.POST_JOB)}};e.\u0275fac=function(s){return new(s||e)(c(b))},e.\u0275prov=n({token:e,factory:e.\u0275fac,providedIn:"root"});let o=e;return o})();var g=new a([]),u=new a(!1),E=new a(!1),l=new a({rig_master:[],service_type:[],unit_of_measure:[],customers:[],hole_section:[],survey_type:[],tools_type:[],well_type:[]}),p=new a(!1),w=new a(!1),D=(()=>{let e=class e{constructor(t){this.httpClient=t,this.jobs$=g.asObservable(),this.jobGetLoading$=u.asObservable(),this.jobGetError$=E.asObservable(),this.masterData$=l.asObservable(),this.masterDataGetLoading$=p.asObservable(),this.masterDataError$=w.asObservable()}getJob(){u.next(!0),this.httpClient.getJob().pipe(m(()=>u.next(!1))).subscribe({next:t=>{g.next(t.sort((s,r)=>new Date(r.job_created_date).getTime()-new Date(s.job_created_date).getTime())),console.log(t)},error:t=>{throw console.error("Error on geting job list",t.message),new d("Error on geting job list")}})}getMasterData(){p.next(!0),this.httpClient.getMasterData().pipe(m(()=>p.next(!1))).subscribe({next:t=>{l.next(t),console.log(t)},error:t=>{console.error("Error fetching data",t),l.next({rig_master:[],service_type:[],unit_of_measure:[],customers:[],hole_section:[],survey_type:[],tools_type:[],well_type:[]})}})}};e.\u0275fac=function(s){return new(s||e)(c(y))},e.\u0275prov=n({token:e,factory:e.\u0275fac,providedIn:"root"});let o=e;return o})();var F=(()=>{let e=class e{constructor(t){this.data=t,this.masterData={rig_master:[],service_type:[],unit_of_measure:[],customers:[],hole_section:[],survey_type:[],tools_type:[],well_type:[]},this.data.masterData$.subscribe(s=>{this.masterData=s})}transform(t,s){if(console.log(s+t),console.log(this.masterData.well_type),t==null||s==null)return"Invalid input";switch(s=="CUSTOMER"&&console.log(this.masterData.customers),s){case"RIGNO":return this.masterData.rig_master.find(r=>r.id===t)?.rig_number??"Not Found";case"SERVICETYPE":return this.masterData.service_type.find(r=>r.id===t)?.service_type??"Not Found";case"CUSTOMER":return this.masterData.customers.find(r=>r.customer_id===t)?.customer_name??"Not Found";case"UNITOFMEASUREMENT":return this.masterData.unit_of_measure.find(r=>r.id===t)?.unit_of_measure??"Not Found";case"SURVEYTYPE":return this.masterData.survey_type.find(r=>r.id===t)?.survey_types??"Not Found";case"TOOLSTYPE":return this.masterData.tools_type.find(r=>r.id===t)?.type_of_tools??"Not Found";case"WELLTYPE":return this.masterData.well_type.find(r=>r.id===t)?.well_type??"Not Found";default:return"Unknown field"}}};e.\u0275fac=function(s){return new(s||e)(h(D,16))},e.\u0275pipe=f({name:"forignAsync",type:e,pure:!0,standalone:!0});let o=e;return o})();export{D as a,F as b};
