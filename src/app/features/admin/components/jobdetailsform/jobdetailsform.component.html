<div class="box-body">
  <form (ngSubmit)="onSubmit()" [formGroup]="jobDetailForm">
  <!-- <form> -->
    <div class="grid grid-cols-12 sm:gap-x-6 sm:gap-y-4">

      <!-- Job No -->
      <div class="xl:col-span-3 md:col-span-6 col-span-12 mb-4">
        <label class="form-label" for="jobno">Job No</label>
        <input id="jobno" type="text" class="form-control" placeholder="" aria-label="Job No"
          formControlName="jobNumber">
        @if( jobDetailForm.controls['jobNumber'].invalid &&
              (jobDetailForm.controls['jobNumber'].dirty ||
              jobDetailForm.controls['jobNumber'].touched)){

              <div class="text-danger">
                Invalid Job Number.
              </div>
              }
      </div>

      <!-- SERVICE TYPE -->
      <div class="md:col-span-6 col-span-12 mb-4">
        <label class="form-label" for="servicetype">Service Type</label>
        <select id="servicetype" class="form-select !py-[0.59rem]" formControlName="serviceType">
          <option *ngFor="let service of serviceTypes" [value]="service.id">{{service.service_type}}</option>
        </select>

        @if(jobDetailForm.get('serviceType')!.invalid &&
        (jobDetailForm.get('serviceType')!.dirty || jobDetailForm.get('serviceType')!.touched)){

        <div class="text-danger">
          Service Type is required.
        </div>
        }

      </div>

      <!-- LOCATION -->
      <div class="xl:col-span-3 md:col-span-6 col-span-12 mb-4">
        <label class="form-label" for="location">Location</label>
        <input id="location" type="text" class="form-control" placeholder="" aria-label="location"
          formControlName="location">
        @if( jobDetailForm.controls['location'].invalid &&
                        (jobDetailForm.controls['location'].dirty ||
                        jobDetailForm.controls['location'].touched)){

                        <div class="text-danger">
                          Location is required.
                        </div>
                        }
      </div>

      <!-- CUSTOMER SELECT -->
      <div class="xl:col-span-5 md:col-span-6 col-span-12 mb-4">
        <label class="form-label" for="customer">Customer</label>
        <select id="customer" class="form-select !py-[0.59rem]" formControlName="customer">
          <option *ngFor="let customer of customers" [value]="customer.customer_id" [selected]="customer.customer_id == selectedCustomer">
                        {{customer.customer_name}}</option>
        </select>

        @if( jobDetailForm.controls['customer'].invalid &&
                    (jobDetailForm.controls['customer'].dirty ||
                    jobDetailForm.controls['customer'].touched)){

                    <div class="text-danger">
                      Customer is required.
                    </div>
                    }
      </div>

      <!-- RigNo -->
      <div class="xl:col-span-2 md:col-span-4 col-span-12 mb-4">
        <label class="form-label" for="rigNo">Rig No</label>
        <select id="rigNo" class="form-select !py-[0.59rem]" formControlName="rigNo">
          <option *ngFor="let rigNo of rigNos" [value]="rigNo.id" [selected]="rigNo.id == selectedRigNo">
                              {{rigNo.rig_number}}</option>
        </select>

        @if( jobDetailForm.controls['rigNo'].invalid &&
                          (jobDetailForm.controls['rigNo'].dirty ||
                          jobDetailForm.controls['rigNo'].touched)){

                          <div class="text-danger">
                            Rig No is required.
                          </div>
                          }
      </div>

      <!-- Unit of Measurement -->
      <div class="xl:col-span-2 md:col-span-4 col-span-12 mb-4">
        <label class="form-label" for="unitOfMeasure">Unit of Measure</label>
        <select id="unitOfMeasure" class="form-select !py-[0.59rem]" formControlName="unitOfMeasure">
          <option *ngFor="let unit of units" [value]="unit.id" [selected]="unit.id == selectedUnit">{{unit.unit_of_measure}}
          </option>
        </select>
        @if( jobDetailForm.controls['unitOfMeasure'].invalid &&
        (jobDetailForm.controls['unitOfMeasure'].dirty ||
        jobDetailForm.controls['unitOfMeasure'].touched)){

        <div class="text-danger">
          Unit of Measure is required.
        </div>
        }
      </div>

      <!-- Estimated Date -->
      <div class="xl:col-span-3 md:col-span-4 col-span-12 mb-4">
        <label class="form-label" for="estimatedDate">Estimated Date</label>
        <input id="estimatedDate" type="date" class="form-control" aria-label="estimatedDate"
          formControlName="estimatedDate">
        @if( jobDetailForm.controls['estimatedDate'].invalid &&
        (jobDetailForm.controls['estimatedDate'].dirty ||
        jobDetailForm.controls['estimatedDate'].touched)){

        <div class="text-danger"
          *ngIf="jobDetailForm.controls['estimatedDate'].errors?.['required'] && jobDetailForm.controls['estimatedDate'].touched">
          Estimated Date is required.
        </div>

        <div class="text-danger"
          *ngIf="jobDetailForm.controls['estimatedDate'].errors?.['isDateFuture'] && jobDetailForm.controls['estimatedDate'].touched">
          Invalid Estimated Date.
        </div>

        }


      </div>


      <div class="md:col-span-12 col-span-12 flex justify-end sm:gap-x-4 sm:gap-y-4">

        <button type="submit" class="ti-btn ti-btn-primary-full !mb-0">Next</button>
      </div>
    </div>

  </form>



</div>
