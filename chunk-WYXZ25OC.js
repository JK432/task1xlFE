import{a as V}from"./chunk-BYK6HKBQ.js";import{a as N,b as G}from"./chunk-SAJZLKED.js";import{a as M}from"./chunk-3LRHPB24.js";import"./chunk-JQS6LFF5.js";import{a as O}from"./chunk-C5HBJIRI.js";import"./chunk-O4YZWSNL.js";import"./chunk-NY5GKKF2.js";import"./chunk-NJXWKAYO.js";import{a as J,b as R}from"./chunk-YAXZKP7E.js";import"./chunk-EQ5ZDEMS.js";import{d as $,g as P,j as A,x as L}from"./chunk-5OVQF42F.js";import{$a as f,$b as D,Ab as I,Bb as i,Cb as t,Db as x,G as H,Hb as w,Jb as j,Kb as c,Rb as B,Sb as n,Tb as _,Ub as T,_a as r,fc as l,gc as b,hc as v,jc as k,la as F,pb as s,rb as C,va as h,wa as S,xb as u,yb as g,zb as E}from"./chunk-RBD7S4WU.js";import"./chunk-YT5AF7SN.js";import"./chunk-SIAVTO45.js";function Y(e,a){if(e&1){let o=w();i(0,"button",27),j("click",function(){h(o);let m=c(2).$implicit,p=c(3);return S(p.startPresurvey(m))}),x(1,"i",28),n(2," Start "),t()}}function K(e,a){e&1&&(i(0,"button",29)(1,"span",30),n(2,"Start"),t(),i(3,"span",31),x(4,"i",32),t()())}function q(e,a){if(e&1&&(s(0,Y,3,0,"button",26),l(1,"async"),s(2,K,5,0)),e&2){let o=c(4);u(0,b(1,1,o.presurveyDataServices.Infoloading$)?2:0)}}function z(e,a){if(e&1){let o=w();i(0,"button",27),j("click",function(){h(o);let m=c(2).$implicit,p=c(3);return S(p.startPresurvey(m))}),x(1,"i",28),n(2," Start "),t()}}function Q(e,a){e&1&&(i(0,"button",33),x(1,"i",28),n(2," Start "),t())}function W(e,a){if(e&1&&(s(0,z,3,0,"button",26),l(1,"async"),s(2,Q,3,0)),e&2){let o=c(4);u(0,b(1,1,o.presurveyDataServices.Infoloading$)?2:0)}}function X(e,a){if(e&1&&(i(0,"tr",21)(1,"td",22)(2,"div",23),n(3),t()(),i(4,"td"),n(5),l(6,"forignAsync"),t(),i(7,"td"),n(8),t(),i(9,"td")(10,"span",24),n(11,"Presurvey"),t()(),i(12,"td")(13,"span",25),n(14),l(15,"forignAsync"),t()(),i(16,"td")(17,"span",25),n(18),l(19,"hoursAgo"),t()(),i(20,"td"),s(21,q,3,3)(22,W,3,3),t()()),e&2){let o=a.$implicit,d=c(3);r(3),T(" ",o.job_number," "),r(2),_(v(6,6,o.service,"SERVICETYPE")),r(3),_(o.location),r(6),_(v(15,9,o.customer,"CUSTOMER")),r(4),_(b(19,12,o.job_created_date)),r(3),u(21,d.selectedjobNo==o.job_number?21:22)}}function Z(e,a){if(e&1&&E(0,X,23,14,"tr",21,g),e&2){let o=c(2);I(o.jobs)}}function ee(e,a){e&1&&(i(0,"tr",34),n(1," No Jobs Found."),t())}function te(e,a){if(e&1&&(i(0,"tbody",20),s(1,Z,2,0)(2,ee,2,0),t()),e&2){let o=c();r(),u(1,o.jobs.length>0?1:2)}}function ie(e,a){e&1&&(i(0,"div",35)(1,"span",36),n(2,"Loading..."),t()())}function ne(e,a){if(e&1&&(i(0,"tr",21)(1,"td",22)(2,"div",23),n(3),t()(),i(4,"td"),n(5),l(6,"forignAsync"),t(),i(7,"td"),n(8),t(),i(9,"td")(10,"span",24),n(11,"Completed"),t()(),i(12,"td")(13,"span",25),n(14),l(15,"forignAsync"),t()(),i(16,"td")(17,"span",25),n(18),l(19,"hoursAgo"),t()(),i(20,"td")(21,"a",37)(22,"span",38),x(23,"i",39),t()()()()),e&2){let o=a.$implicit;r(3),T(" ",o.job_number," "),r(2),_(v(6,5,o.service,"SERVICETYPE")),r(3),_(o.location),r(6),_(v(15,8,o.customer,"CUSTOMER")),r(4),_(b(19,11,o.job_created_date))}}function oe(e,a){if(e&1&&E(0,ne,24,13,"tr",21,g),e&2){let o=c(2);I(o.jobs)}}function ae(e,a){e&1&&(i(0,"tr",34),n(1," No Jobs Found."),t())}function re(e,a){if(e&1&&(i(0,"tbody",20),s(1,oe,2,0)(2,ae,2,0),t()),e&2){let o=c();r(),u(1,o.jobs.length>0?1:2)}}function le(e,a){e&1&&(i(0,"div",35)(1,"span",36),n(2,"Loading..."),t()())}var Ce=(()=>{let a=class a{constructor(d,m,p,y){this.dataService=d,this.presurveyFormServices=m,this.router=p,this.presurveyDataServices=y,this.selectedjobNo="",this.presurveyInfo={job_info:{client_rep:"",job_number:"",well_id:"",well_name:"",arrival_date:new Date(Date.now()).toISOString()},survey_info:[],tie_on_information:[],well_info:{east_coorinates:0,g_t:0,max_gt:0,max_wt:0,min_gt:0,min_wt:0,north_coordinates:0,w_t:0,well_info_id:0,central_meridian:0,easting:0,expected_well_temp:0,expected_wellbore_inclination:0,GLE:0,job_number:"",latitude_1:0,latitude_2:0,latitude_3:0,longitude_1:0,longitude_2:0,longitude_3:0,northing:0,ref_datum:"",ref_elivation:"",RKB:0,well_id:0,well_type:0}},this.jobs=[],this.dataService.getMasterData(),this.dataService.getJob(),this.dataService.jobs$.pipe().subscribe({next:U=>{this.jobs=U}})}startPresurvey(d){this.selectedjobNo=d.job_number,this.presurveyDataServices.getInfo(d.job_number).then(m=>{m&&this.presurveyDataServices.PresurveyInfo$.pipe(H(1)).subscribe({next:p=>{this.presurveyInfo=p,this.presurveyInfo.survey_info&&this.presurveyInfo.survey_info.length>0&&this.presurveyInfo.tie_on_information&&this.presurveyInfo.tie_on_information.length>0&&this.presurveyInfo.well_info!==null&&this.presurveyInfo.job_info!==null?this.router.navigate(["/dash/jobdetails/"+d.job_number+"/"]):this.router.navigate(["/presurvey/form/"+d.job_number+"/"])}})})}};a.\u0275fac=function(m){return new(m||a)(f(N),f(V),f(L),f(M))},a.\u0275cmp=F({type:a,selectors:[["app-home"]],standalone:!0,features:[D],decls:60,vars:15,consts:[["loadedContent",""],[3,"title","activeTitle","title1"],[1,"container","pt-4"],[1,"grid","grid-cols-12","gap-6"],[1,"xl:col-span-12","col-span-12"],[1,"box"],[1,"box-header","justify-between","sm:flex","block"],[1,"box-title"],["aria-label","Tabs",1,"sm:flex","block","sm:mt-0","mt-2"],["id","active-item","data-hs-tab","#taskactive","aria-controls","taskactive",1,"block","w-full","sm:w-auto","hs-tab-active:bg-primary/10","hs-tab-active:text-primary","cursor-pointer","text-defaulttextcolor","dark:text-defaulttextcolor/70","py-2","px-4","text-[0.8rem]","font-medium","text-center","rounded-md","hover:text-primary","active"],["id","completed-item","data-hs-tab","#completed","aria-controls","completed",1,"block","w-full","sm:w-auto","hs-tab-active:bg-primary/10","hs-tab-active:text-primary","cursor-pointer","text-defaulttextcolor","dark:text-defaulttextcolor/70","py-2","px-4","text-[0.8rem]","font-medium","text-center","rounded-md","hover:text-primary"],[1,"box-body","!p-0"],[1,"tab-content"],["id","taskactive","role","tabpanel",1,"tab-pane","show","active","text-[#8c9097]","dark:text-white/50","!border-0","!p-0"],[1,"table-responsive","overflow-auto"],[1,"table","whitespace-nowrap","min-w-full","mb-0"],["scope","col",1,"text-center"],["scope","col",1,"text-start"],["class","top-selling",4,"ngIf","ngIfElse"],["id","completed","role","tabpanel","aria-labelledby","completed-item",1,"tab-pane","text-[#8c9097]","dark:text-white/50","!border-0","!p-0","hidden"],[1,"top-selling"],[1,"border-y","border-inherit","border-solid","dark:border-defaultborder/10"],[1,"text-center","leading-none"],[1,"flex","items-center","font-semibold"],[1,"badge","badge-sm","bg-success/10","text-success","!font-normal"],[1,""],["type","button",1,"ti-btn","ti-btn-primary-full","label-ti-btn","label-end","m-0","!py-1"],["type","button",1,"ti-btn","ti-btn-primary-full","label-ti-btn","label-end","m-0","!py-1",3,"click"],[1,"ri-arrow-right-s-line","label-ti-btn-icon","ms-2","text-[1.125rem]"],["type","button",1,"ti-btn","ti-btn-primary-full","ti-btn-loader","ti-btn-disabled","m-0","!py-1"],[1,"me-2"],[1,"loading"],[1,"ri-refresh-line","text-[1rem]","animate-spin"],["type","button",1,"ti-btn","ti-btn-primary-full","label-ti-btn","label-end","m-0","!py-1","ti-btn-disabled"],[1,"border-y","border-inherit","border-solid","dark:border-defaultborder/10","m-0","px-5","py-2","flex","items-center"],["role","status",1,"ti-spinner","text-primary","p-2","m-2"],[1,"sr-only"],["aria-label","anchor","href","javascript:void(0);"],[1,"orders-arrow"],[1,"ri-arrow-right-s-line","text-[1.125rem]"]],template:function(m,p){if(m&1&&(x(0,"app-page-header",1),i(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7),n(7," Jobs "),t(),i(8,"div")(9,"nav",8)(10,"a",9),n(11," Active "),t(),i(12,"a",10),n(13," Completed "),t()()()(),i(14,"div",11)(15,"div",12)(16,"div",13)(17,"div",14)(18,"table",15)(19,"thead")(20,"tr")(21,"th",16),n(22,"Job.no"),t(),i(23,"th",17),n(24,"Service"),t(),i(25,"th",17),n(26,"Location"),t(),i(27,"th",17),n(28,"Status"),t(),i(29,"th",17),n(30,"Customer"),t(),i(31,"th",17),n(32,"Created at"),t()()(),s(33,te,3,1,"tbody",18),l(34,"async"),l(35,"async"),s(36,ie,3,0,"ng-template",null,0,k),t()()(),i(38,"div",19)(39,"div",14)(40,"table",15)(41,"thead")(42,"tr")(43,"th",16),n(44,"Job.no"),t(),i(45,"th",17),n(46,"Service"),t(),i(47,"th",17),n(48,"Location"),t(),i(49,"th",17),n(50,"Status"),t(),i(51,"th",17),n(52,"Customer"),t(),i(53,"th",17),n(54,"Created at"),t()()(),s(55,re,3,1,"tbody",18),l(56,"async"),l(57,"async"),s(58,le,3,0,"ng-template",null,0,k),t()()()()()()()()()),m&2){let y=B(37);C("title","Jobs")("activeTitle","Home")("title1","Jobs"),r(33),C("ngIf",!b(34,7,p.dataService.masterDataGetLoading$)&&!b(35,9,p.dataService.jobGetLoading$))("ngIfElse",y),r(22),C("ngIf",!b(56,11,p.dataService.masterDataGetLoading$)&&!b(57,13,p.dataService.jobGetLoading$))("ngIfElse",y)}},dependencies:[A,$,P,O,G,R,J]});let e=a;return e})();export{Ce as HomeComponent};
